# 1.哪些项目需要使用状态管理？
电商平台：
- 多个功能模块(户管理、产品管理、订单管理、设置中心)
- 多个角色 （管理员，运营，普通用户）

不同角色以及产品之间有相互的状态关系。如果过于复杂，需要使用状态管理。

# 2.使用状态管理的优势：
- 🚀 复杂状态清晰管理	拆分为多个状态模块，结构清晰
- 🔄 易维护/拓展	添加新模块不影响旧代码
- 🧪 高可测性	Reducer/Effect/Selector 都可测试
- 📦 强解耦	组件间状态解耦，不再互相影响
- 🔍 可调试	配合 devtools 可追踪状态更新链路


# 3.具体场景描述

> 用户role改变(普通用户->管理员)->此用户不允许购物，cart清空, 添加购物车按钮隐藏->增加订单导出操作


# 4，对于小型项目:
- 每个模块单独用一个 Service（例如：UserService、CartService）
- 每个 Service 用 BehaviorSubject 维护状态，对外 Observable
- 避免互相依赖（解耦，避免每个模块中注入其它的模块）
- 有相互逻辑交集的放在`单独`的协调服务中，例如：UserCartCoordinatorService

但是也会遇到`问题`: 到底在哪里使用了Observable.next(value) 导致了变化，可能追踪起来还是又一定的困难。


